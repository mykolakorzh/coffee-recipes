<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brew Perfect - Coffee Brewing Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        // Tailwind configuration for monochromatic cream design system
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Sora', 'system-ui', 'sans-serif']
                    },
                    colors: {
                        // Monochromatic cream palette
                        cream: {
                            25: '#F6F1EF',   // Primary background
                            50: '#F2ECE8',   // Subtle contrast
                            100: '#EDE5E0',  // Light sections
                            200: '#E4D7CF',  // Borders and dividers
                            300: '#D7C5B8',  // Muted text
                            400: '#C7AE9E',  // Secondary text
                            500: '#B59485',  // Primary interactive
                            600: '#A07B6B',  // Hover states
                            700: '#8A6454',  // Active states
                            800: '#6F4E3F',  // Dark text
                            900: '#5A3D30',  // Darkest text
                            950: '#4A3228'   // Highest contrast
                        }
                    },
                    boxShadow: {
                        'card': '0 1px 3px rgba(90, 61, 48, 0.08), 0 1px 2px rgba(90, 61, 48, 0.04)',
                        'card-hover': '0 4px 6px rgba(90, 61, 48, 0.06), 0 2px 4px rgba(90, 61, 48, 0.04)',
                        'cream-soft': `
                            inset 0 1px 0 rgba(255, 255, 255, 0.15),
                            inset 0 -1px 0 rgba(181, 148, 133, 0.08),
                            0 4px 8px rgba(90, 61, 48, 0.06)
                        `,
                        'cream-elevated': `
                            inset 0 2px 4px rgba(255, 255, 255, 0.2),
                            inset 0 -1px 2px rgba(181, 148, 133, 0.1),
                            0 8px 20px rgba(90, 61, 48, 0.08)
                        `,
                        'cream-pressed': `
                            inset 0 2px 4px rgba(90, 61, 48, 0.12),
                            inset 0 -1px 2px rgba(255, 255, 255, 0.08),
                            0 1px 3px rgba(90, 61, 48, 0.06)
                        `
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-cream-25 min-h-screen font-sans" x-data="coffeeApp()">
    
    <!-- Navigation Header -->
    <nav class="sticky top-0 z-50 bg-cream-50/90 backdrop-blur-md border-b border-cream-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-cream-500 to-cream-700 rounded-lg flex items-center justify-center shadow-cream-soft">
                        <span class="text-cream-50 font-bold text-sm">☕</span>
                    </div>
                    <span class="font-semibold text-xl text-cream-900">Brew Perfect</span>
                </div>
                
                <!-- Back button -->
                <button 
                    x-show="currentView !== 'home'" 
                    @click="goHome()"
                    class="flex items-center space-x-2 px-4 py-2 text-cream-600 hover:text-cream-800 transition-colors duration-200"
                    x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 transform scale-95"
                    x-transition:enter-end="opacity-100 transform scale-100"
                    x-transition:leave="transition ease-in duration-200"
                    x-transition:leave-start="opacity-100 transform scale-100"
                    x-transition:leave-end="opacity-0 transform scale-95"
                >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    <span class="font-medium">Back to Methods</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Home View: Hero + Method Grid -->
        <div 
            x-show="currentView === 'home'" 
            x-transition:enter="transition ease-out duration-500"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
        >
            
            <!-- Hero Section -->
            <section class="text-center mb-16">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-cream-950 mb-6">
                    Perfect Coffee,<br>
                    <span class="text-cream-600">Every Time</span>
                </h1>
                <p class="text-xl text-cream-700 max-w-2xl mx-auto mb-8">
                    Master the art of coffee brewing with our curated collection of recipes. 
                    From pour-over to espresso, discover your perfect cup.
                </p>
                <div class="flex justify-center">
                    <div class="bg-cream-50/80 backdrop-blur-sm rounded-full px-6 py-3 border border-cream-200 shadow-cream-soft">
                        <span class="text-cream-800 font-medium">Choose your brewing method below</span>
                    </div>
                </div>
            </section>

            <!-- Brewing Methods Grid -->
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <template x-for="method in brewingMethods" :key="method.id">
                    <div 
                        @click="selectMethod(method)"
                        class="group cursor-pointer bg-cream-50 rounded-2xl p-6 shadow-cream-soft hover:shadow-cream-elevated transition-all duration-300 border border-cream-200 hover:border-cream-300 hover:-translate-y-1"
                    >
                        <!-- Method Icon -->
                        <div class="w-16 h-16 bg-gradient-to-br from-cream-100 to-cream-200 rounded-xl mb-4 flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-cream-soft">
                            <span class="text-2xl" x-text="method.icon"></span>
                        </div>
                        
                        <!-- Method Info -->
                        <h3 class="font-semibold text-lg text-cream-900 mb-2" x-text="method.name"></h3>
                        <p class="text-cream-600 text-sm mb-3" x-text="method.description"></p>
                        
                        <!-- Method Stats -->
                        <div class="flex justify-between text-xs text-cream-500">
                            <span x-text="method.time"></span>
                            <span x-text="method.difficulty"></span>
                        </div>
                    </div>
                </template>
            </section>
        </div>

        <!-- Recipe Detail View -->
        <div 
            x-show="currentView === 'recipe'" 
            x-transition:enter="transition ease-out duration-500"
            x-transition:enter-start="opacity-0 transform translate-y-4"
            x-transition:enter-end="opacity-100 transform translate-y-0"
            x-transition:leave="transition ease-in duration-300"
            x-transition:leave-start="opacity-100 transform translate-y-0"
            x-transition:leave-end="opacity-0 transform translate-y-4"
        >
            <div x-show="selectedMethod" class="max-w-4xl mx-auto">
                
                <!-- Recipe Header -->
                <div class="bg-cream-50 rounded-2xl p-8 shadow-cream-soft border border-cream-200 mb-8">
                    <div class="flex items-start justify-between mb-6">
                        <div>
                            <h1 class="text-3xl font-bold text-cream-950 mb-2" x-text="selectedMethod?.name"></h1>
                            <p class="text-cream-700 text-lg" x-text="selectedMethod?.longDescription"></p>
                        </div>
                        <div class="text-6xl text-cream-300 animate-pulse" x-text="selectedMethod?.icon"></div>
                    </div>
                    
                    <!-- Recipe Stats -->
                    <div class="grid grid-cols-3 gap-4 pt-6 border-t border-cream-200">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-cream-800" x-text="selectedMethod?.time"></div>
                            <div class="text-sm text-cream-500">Brew Time</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-cream-800" x-text="selectedMethod?.difficulty"></div>
                            <div class="text-sm text-cream-500">Difficulty</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-cream-800" x-text="selectedMethod?.yield"></div>
                            <div class="text-sm text-cream-500">Serves</div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Recipe Calculator -->
                <div class="bg-cream-50 rounded-2xl p-8 shadow-cream-soft border border-cream-200 mb-8">
                    <h2 class="text-xl font-semibold text-cream-900 mb-6">Recipe Calculator</h2>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Serving Size Adjuster -->
                        <div>
                            <label class="block text-sm font-medium text-cream-800 mb-3">Serving Size</label>
                            <div class="flex items-center space-x-4">
                                <button 
                                    @click="adjustServings(-1)"
                                    class="w-10 h-10 rounded-full bg-cream-100 hover:bg-cream-200 flex items-center justify-center transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-cream-soft"
                                    :disabled="servings <= 1"
                                >
                                    <span class="text-cream-700 font-bold">-</span>
                                </button>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-cream-900 transition-all duration-200" x-text="servings"></div>
                                    <div class="text-sm text-cream-600">cups</div>
                                </div>
                                <button 
                                    @click="adjustServings(1)"
                                    class="w-10 h-10 rounded-full bg-cream-100 hover:bg-cream-200 flex items-center justify-center transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-cream-soft"
                                    :disabled="servings >= 6"
                                >
                                    <span class="text-cream-700 font-bold">+</span>
                                </button>
                            </div>
                        </div>

                        <!-- Coffee Strength -->
                        <div>
                            <label class="block text-sm font-medium text-cream-800 mb-3">Coffee Strength</label>
                            <div class="space-y-2">
                                <input 
                                    type="range" 
                                    min="0.8" 
                                    max="1.2" 
                                    step="0.1" 
                                    x-model="strengthMultiplier"
                                    class="w-full h-2 bg-cream-200 rounded-lg appearance-none cursor-pointer transition-all duration-200"
                                >
                                <div class="flex justify-between text-xs text-cream-600">
                                    <span>Mild</span>
                                    <span>Medium</span>
                                    <span>Strong</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Calculated Recipe -->
                    <div class="mt-8 p-6 bg-cream-100 rounded-xl border border-cream-200 shadow-cream-soft">
                        <h3 class="font-semibold text-cream-900 mb-4">Your Recipe</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="transition-all duration-300">
                                <span class="text-cream-700">Coffee:</span>
                                <span class="font-semibold text-cream-900 ml-2" x-text="calculatedCoffee + 'g'"></span>
                            </div>
                            <div class="transition-all duration-300">
                                <span class="text-cream-700">Water:</span>
                                <span class="font-semibold text-cream-900 ml-2" x-text="calculatedWater + 'ml'"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Equipment & Ingredients -->
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <!-- Equipment -->
                    <div class="bg-cream-50 rounded-2xl p-6 shadow-cream-soft border border-cream-200">
                        <h3 class="font-semibold text-cream-900 mb-4">Equipment Needed</h3>
                        <ul class="space-y-2">
                            <template x-for="item in selectedMethod?.equipment" :key="item">
                                <li class="flex items-center space-x-3 transition-all duration-200 hover:bg-cream-100 rounded-lg p-2 -m-2">
                                    <div class="w-2 h-2 bg-cream-500 rounded-full"></div>
                                    <span class="text-cream-800" x-text="item"></span>
                                </li>
                            </template>
                        </ul>
                    </div>

                    <!-- Ingredients -->
                    <div class="bg-cream-50 rounded-2xl p-6 shadow-cream-soft border border-cream-200">
                        <h3 class="font-semibold text-cream-900 mb-4">What You'll Need</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between transition-all duration-300">
                                <span class="text-cream-700">Coffee (medium grind)</span>
                                <span class="font-semibold text-cream-900" x-text="calculatedCoffee + 'g'"></span>
                            </div>
                            <div class="flex justify-between transition-all duration-300">
                                <span class="text-cream-700">Hot water (92-96°C)</span>
                                <span class="font-semibold text-cream-900" x-text="calculatedWater + 'ml'"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Brewing Steps with Timer -->
                <div class="bg-cream-50 rounded-2xl p-8 shadow-cream-soft border border-cream-200 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold text-cream-900">Brewing Steps</h3>
                        <button 
                            @click="toggleTimer()"
                            class="px-4 py-2 bg-cream-600 hover:bg-cream-700 text-cream-50 rounded-lg transition-all duration-200 font-medium hover:scale-105 active:scale-95 shadow-cream-elevated active:shadow-cream-pressed"
                            x-text="timerActive ? 'Stop Timer' : 'Start Timer'"
                        ></button>
                    </div>

                    <!-- Timer Display -->
                    <div 
                        x-show="timerActive" 
                        class="mb-6 p-4 bg-cream-100 rounded-xl border border-cream-200 shadow-cream-soft"
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0 transform scale-95"
                        x-transition:enter-end="opacity-100 transform scale-100"
                        x-transition:leave="transition ease-in duration-200"
                        x-transition:leave-start="opacity-100 transform scale-100"
                        x-transition:leave-end="opacity-0 transform scale-95"
                    >
                        <div class="text-center">
                            <div class="text-3xl font-bold text-cream-900 mb-2 animate-pulse" x-text="formatTime(currentTime)"></div>
                            <div class="text-cream-700" x-text="'Step ' + (currentStep + 1) + ' of ' + selectedMethod?.steps.length"></div>
                        </div>
                        
                        <!-- Progress Bar -->
                        <div class="mt-4 w-full bg-cream-200 rounded-full h-2">
                            <div 
                                class="bg-cream-600 h-2 rounded-full transition-all duration-500 ease-out"
                                :style="'width: ' + ((currentStep + 1) / selectedMethod?.steps.length * 100) + '%'"
                            ></div>
                        </div>
                    </div>

                    <!-- Steps List -->
                    <div class="space-y-4">
                        <template x-for="(step, index) in selectedMethod?.steps" :key="index">
                            <div 
                                class="flex space-x-4 p-4 rounded-xl transition-all duration-300"
                                :class="timerActive && index === currentStep ? 'bg-cream-100 border border-cream-300 scale-105 shadow-cream-soft' : 'bg-cream-25 hover:bg-cream-50'"
                            >
                                <div 
                                    class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-semibold transition-all duration-300 shadow-cream-soft"
                                    :class="timerActive && index <= currentStep ? 'bg-cream-600 text-cream-50 animate-pulse' : 'bg-cream-200 text-cream-800'"
                                    x-text="index + 1"
                                ></div>
                                <div class="flex-1">
                                    <p class="text-cream-900" x-text="step.instruction"></p>
                                    <p class="text-sm text-cream-600 mt-1" x-text="step.time"></p>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>

                <!-- Pro Tips -->
                <div class="bg-gradient-to-r from-cream-50 to-cream-100 rounded-2xl p-8 border border-cream-200 shadow-cream-soft">
                    <h3 class="font-semibold text-cream-900 mb-4 flex items-center">
                        <span class="text-xl mr-2 animate-bounce">💡</span>
                        Pro Tips
                    </h3>
                    <div class="space-y-3">
                        <template x-for="tip in selectedMethod?.tips" :key="tip">
                            <p class="text-cream-800 transition-all duration-200 hover:text-cream-900" x-text="tip"></p>
                        </template>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-16 py-8 border-t border-cream-200 bg-cream-50/60">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-cream-700">Made with ☕ and love for coffee enthusiasts everywhere</p>
        </div>
    </footer>

    <script>
        // Alpine.js main application logic (same as before)
        function coffeeApp() {
            return {
                // Application state
                currentView: 'home',
                selectedMethod: null,
                servings: 1,
                strengthMultiplier: 1.0,
                timerActive: false,
                currentTime: 0,
                currentStep: 0,
                timerInterval: null,

                // Brewing methods data
                brewingMethods: [
                    {
                        id: 'v60',
                        name: 'Hario V60',
                        icon: '🌀',
                        description: 'Clean, bright, and nuanced flavors',
                        longDescription: 'The V60 produces a clean, bright cup that highlights the unique characteristics of your coffee beans.',
                        time: '3-4 min',
                        difficulty: 'Medium',
                        yield: '1-2 cups',
                        baseRatio: { coffee: 20, water: 300 },
                        equipment: [
                            'Hario V60 dripper',
                            'V60 paper filters',
                            'Gooseneck kettle',
                            'Digital scale',
                            'Grinder',
                            'Timer'
                        ],
                        steps: [
                            {
                                instruction: 'Heat water to 92-96°C and rinse the filter in the V60. Place on scale and zero.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Add ground coffee and create a small well in the center. Start timer and pour 2x coffee weight in water.',
                                time: '0:00 - 0:15'
                            },
                            {
                                instruction: 'Let coffee bloom for 30 seconds, then begin slow, circular pours.',
                                time: '0:30 - 2:30'
                            },
                            {
                                instruction: 'Complete final pour and let coffee finish dripping.',
                                time: '2:30 - 3:30'
                            }
                        ],
                        tips: [
                            'Use a medium-fine grind, similar to table salt',
                            'Pour in slow, circular motions from center outward',
                            'Maintain consistent water temperature throughout brewing'
                        ]
                    },
                    {
                        id: 'aeropress',
                        name: 'AeroPress',
                        icon: '🔄',
                        description: 'Full-bodied with low acidity',
                        longDescription: 'AeroPress creates a full-bodied, smooth cup with lower acidity than most brewing methods.',
                        time: '2-3 min',
                        difficulty: 'Easy',
                        yield: '1 cup',
                        baseRatio: { coffee: 17, water: 250 },
                        equipment: [
                            'AeroPress brewer',
                            'AeroPress filters',
                            'Stirring paddle',
                            'Digital scale',
                            'Grinder',
                            'Timer'
                        ],
                        steps: [
                            {
                                instruction: 'Insert filter into cap and rinse. Assemble AeroPress in standard position.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Add ground coffee and pour hot water (85°C). Stir gently.',
                                time: '0:00 - 0:15'
                            },
                            {
                                instruction: 'Steep for 1 minute, then attach cap and flip onto cup.',
                                time: '0:15 - 1:15'
                            },
                            {
                                instruction: 'Press down slowly and steadily for 20-30 seconds.',
                                time: '1:15 - 1:45'
                            }
                        ],
                        tips: [
                            'Use a fine to medium grind',
                            'Experiment with inverted method for longer steeping',
                            'Press slowly and consistently for best extraction'
                        ]
                    },
                    {
                        id: 'chemex',
                        name: 'Chemex',
                        icon: '⏳',
                        description: 'Clean and crisp with bright acidity',
                        longDescription: 'Chemex filters remove oils and fine particles, resulting in a very clean, tea-like cup.',
                        time: '4-5 min',
                        difficulty: 'Medium',
                        yield: '2-4 cups',
                        baseRatio: { coffee: 30, water: 500 },
                        equipment: [
                            'Chemex brewer',
                            'Chemex bonded filters',
                            'Gooseneck kettle',
                            'Digital scale',
                            'Grinder',
                            'Timer'
                        ],
                        steps: [
                            {
                                instruction: 'Place filter with 3-layer side against spout. Rinse with hot water and empty.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Add coffee and create well. Start timer, pour 2x coffee weight for bloom.',
                                time: '0:00 - 0:15'
                            },
                            {
                                instruction: 'After 45 seconds, pour in slow circles reaching total weight by 3:30.',
                                time: '0:45 - 3:30'
                            },
                            {
                                instruction: 'Let coffee finish dripping completely.',
                                time: '3:30 - 5:00'
                            }
                        ],
                        tips: [
                            'Use medium-coarse grind, coarser than V60',
                            'Pour very slowly to avoid over-extraction',
                            'The thick filter removes most oils and sediment'
                        ]
                    },
                    {
                        id: 'kalita',
                        name: 'Kalita Wave',
                        icon: '🌊',
                        description: 'Balanced and forgiving',
                        longDescription: 'The flat-bottom design provides even extraction and a well-balanced, forgiving cup.',
                        time: '3-4 min',
                        difficulty: 'Easy',
                        yield: '1-2 cups',
                        baseRatio: { coffee: 22, water: 350 },
                        equipment: [
                            'Kalita Wave dripper',
                            'Kalita Wave filters',
                            'Gooseneck kettle',
                            'Digital scale',
                            'Grinder',
                            'Timer'
                        ],
                        steps: [
                            {
                                instruction: 'Place filter and rinse. Add coffee and level the bed.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Start timer, pour 3x coffee weight in center for bloom.',
                                time: '0:00 - 0:15'
                            },
                            {
                                instruction: 'After 45 seconds, pour in 3-4 stages, keeping water level consistent.',
                                time: '0:45 - 2:45'
                            },
                            {
                                instruction: 'Let coffee finish dripping.',
                                time: '2:45 - 3:30'
                            }
                        ],
                        tips: [
                            'Use medium grind, similar to kosher salt',
                            'Keep water level consistent during pours',
                            'The flat bottom provides more even extraction than V60'
                        ]
                    },
                    {
                        id: 'french-press',
                        name: 'French Press',
                        icon: '☕',
                        description: 'Full-bodied and rich',
                        longDescription: 'Immersion brewing creates a full-bodied, rich cup with oils and fine particles.',
                        time: '4-5 min',
                        difficulty: 'Easy',
                        yield: '2-4 cups',
                        baseRatio: { coffee: 30, water: 500 },
                        equipment: [
                            'French Press',
                            'Kettle',
                            'Digital scale',
                            'Grinder',
                            'Timer',
                            'Stirring spoon'
                        ],
                        steps: [
                            {
                                instruction: 'Preheat French Press with hot water, then empty and add coarse ground coffee.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Start timer and pour hot water (96°C). Stir gently to saturate grounds.',
                                time: '0:00 - 0:30'
                            },
                            {
                                instruction: 'Place lid on top but don\'t press. Steep for 4 minutes.',
                                time: '0:30 - 4:30'
                            },
                            {
                                instruction: 'Press plunger down slowly and serve immediately.',
                                time: '4:30 - 5:00'
                            }
                        ],
                        tips: [
                            'Use coarse grind to prevent over-extraction',
                            'Don\'t press too hard to avoid bitter flavors',
                            'Serve immediately to prevent over-extraction'
                        ]
                    },
                    {
                        id: 'cold-brew',
                        name: 'Cold Brew',
                        icon: '🧊',
                        description: 'Smooth and naturally sweet',
                        longDescription: 'Long extraction time creates a smooth, naturally sweet concentrate with low acidity.',
                        time: '12-24 hrs',
                        difficulty: 'Easy',
                        yield: '4-6 cups',
                        baseRatio: { coffee: 100, water: 1000 },
                        equipment: [
                            'Large jar or cold brew maker',
                            'Fine mesh strainer',
                            'Cheesecloth or paper filter',
                            'Digital scale',
                            'Grinder'
                        ],
                        steps: [
                            {
                                instruction: 'Grind coffee coarsely and combine with room temperature water in jar.',
                                time: '0:00 - 0:05'
                            },
                            {
                                instruction: 'Stir well to ensure all grounds are saturated.',
                                time: '0:05 - 0:10'
                            },
                            {
                                instruction: 'Cover and steep at room temperature for 12-24 hours.',
                                time: '12-24 hours'
                            },
                            {
                                instruction: 'Strain through fine mesh and filter. Dilute concentrate 1:1 with water or milk.',
                                time: '24:00 - 24:10'
                            }
                        ],
                        tips: [
                            'Use very coarse grind to make straining easier',
                            'Longer steeping time (18-24h) creates stronger concentrate',
                            'Store concentrate in refrigerator for up to 2 weeks'
                        ]
                    },
                    {
                        id: 'espresso',
                        name: 'Espresso',
                        icon: '⚡',
                        description: 'Intense and concentrated',
                        longDescription: 'High pressure extraction creates an intense, concentrated shot with rich crema.',
                        time: '25-30 sec',
                        difficulty: 'Hard',
                        yield: '1-2 shots',
                        baseRatio: { coffee: 18, water: 36 },
                        equipment: [
                            'Espresso machine',
                            'Portafilter',
                            'Tamper',
                            'Digital scale',
                            'Grinder (burr)',
                            'Shot glasses'
                        ],
                        steps: [
                            {
                                instruction: 'Grind coffee fine and dose 18g into portafilter. Level and tamp firmly.',
                                time: '0:00 - 0:15'
                            },
                            {
                                instruction: 'Lock portafilter and place cup underneath. Start extraction.',
                                time: '0:15 - 0:20'
                            },
                            {
                                instruction: 'Extract for 25-30 seconds to yield 36g (2:1 ratio).',
                                time: '0:20 - 0:50'
                            },
                            {
                                instruction: 'Stop extraction when you reach target weight. Serve immediately.',
                                time: '0:50 - 1:00'
                            }
                        ],
                        tips: [
                            'Use fine grind, adjust based on extraction time',
                            'Tamp with 30lbs of pressure for even extraction',
                            'Aim for honey-like flow from portafilter'
                        ]
                    }
                ],

                // Computed properties
                get calculatedCoffee() {
                    if (!this.selectedMethod) return 0;
                    return Math.round(this.selectedMethod.baseRatio.coffee * this.servings * this.strengthMultiplier);
                },

                get calculatedWater() {
                    if (!this.selectedMethod) return 0;
                    return Math.round(this.selectedMethod.baseRatio.water * this.servings);
                },

                // Methods (same as before)
                selectMethod(method) {
                    this.selectedMethod = method;
                    this.currentView = 'recipe';
                    this.resetTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                },

                goHome() {
                    this.currentView = 'home';
                    this.selectedMethod = null;
                    this.resetTimer();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                },

                adjustServings(delta) {
                    const newServings = this.servings + delta;
                    if (newServings >= 1 && newServings <= 6) {
                        this.servings = newServings;
                    }
                },

                toggleTimer() {
                    if (this.timerActive) {
                        this.stopTimer();
                    } else {
                        this.startTimer();
                    }
                },

                startTimer() {
                    this.timerActive = true;
                    this.currentTime = 0;
                    this.currentStep = 0;
                    
                    this.timerInterval = setInterval(() => {
                        this.currentTime++;
                        this.updateCurrentStep();
                    }, 1000);
                },

                stopTimer() {
                    this.timerActive = false;
                    if (this.timerInterval) {
                        clearInterval(this.timerInterval);
                        this.timerInterval = null;
                    }
                },

                resetTimer() {
                    this.stopTimer();
                    this.currentTime = 0;
                    this.currentStep = 0;
                },

                updateCurrentStep() {
                    if (!this.selectedMethod) return;
                    
                    const totalSteps = this.selectedMethod.steps.length;
                    const stepDuration = 60;
                    
                    const newStep = Math.min(
                        Math.floor(this.currentTime / stepDuration),
                        totalSteps - 1
                    );
                    
                    this.currentStep = newStep;
                },

                formatTime(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                },

                init() {
                    console.log('Monochromatic Cream Coffee App initialized! ☕');
                }
            }
        }
    </script>
</body>
</html>
